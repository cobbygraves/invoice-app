<div class="main">
  <a (click)="goBack()">
    <svg
      width="6"
      height="11"
      viewBox="0 0 6 11"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M4.3418 0.885742L0.113895 5.11364L4.3418 9.34155"
        stroke="#7C5DFA"
        stroke-width="2"
      />
    </svg>
    <span>Go back</span>
  </a>
  <div class="status-bar">
    <p class="status-text">Status</p>
    @if(invoice.status==='paid'){
    <div class="paid">Paid</div>
    } @else if (invoice.status==='pending') {
    <div class="pending">Pending</div>
    } @else {
    <div class="draft">Draft</div>
    }
  </div>

  <div class="invoice-container">
    <header class="invoice-type">
      <h5>
        <span>#</span><span>{{ invoice.id }}</span>
      </h5>
      <p>{{ invoice.description }}</p>
    </header>

    <div class="invoice-location">
      {{ invoice.senderAddress.street }}<br />
      {{ invoice.senderAddress.city }}<br />
      {{ invoice.senderAddress.postCode }}<br />
      {{ invoice.senderAddress.country }}
    </div>

    <div class="date-bill-container">
      <div class="date-container">
        <p>Invoice Date</p>
        <p class="invoice-date">{{ invoice.createdAt }}</p>

        <div class="payment-container">
          <p>Payment Date</p>
          <p class="invoice-date">{{ invoice.paymentDue }}</p>
        </div>
      </div>
      <div class="bill-container">
        <p>Bill To</p>
        <p class="invoice-date">{{ invoice.clientName }}</p>
        <div class="bill-address">
          {{ invoice.clientAddress.street }}<br />
          {{ invoice.clientAddress.city }}<br />
          {{ invoice.clientAddress.postCode }}<br />
          {{ invoice.clientAddress.country }}
        </div>
      </div>
    </div>
    <div class="email-container">
      <p>Sent to</p>
      <div>{{ invoice.clientEmail }}</div>
    </div>

    <div class="price-breakdown-container">
      @for (item of invoice.items; track $index) {
      <div class="top">
        <div class="item-price">
          <p>{{ item.name }}</p>
          <div>{{ item.quantity }}x&#163;{{ item.price }}</div>
        </div>
        <p class="price">&#163;{{ item.quantity * item.price }}</p>
      </div>
      }

      <div class="total">
        <p>Grand Total</p>
        <p>&#163;{{ invoice.total }}</p>
      </div>
    </div>
  </div>
</div>
<div class="invoice-footer">
  <a [routerLink]="['/invoice/', invoice.id, 'edit']" class="edit">Edit</a>
  <button class="delete">Delete</button>
  <button class="mark-as-paid">Mark as Paid</button>
</div>
